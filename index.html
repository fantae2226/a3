<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Assignment 3 MWD</title>
    
        <!--Bootstrap-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        
        <!--React-->
        <script src="https://unpkg.com/react@18/umd/react.development.js" ></script>
        <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" ></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
        
        <!--Style Sheet-->
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>

        <div id="root"></div>

        <script type="text/babel">

            const card_suits = ["heart", "club", "spade", "diamond"];
            const card_values = ["A", "2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K"];


            const container = document.getElementById('root');
            const root = ReactDOM.createRoot(container);
            root.render(<MyApp />);
            




            function generateDeck() {
                let deck_array = [];
                for(let suit of card_suits){
                    for(let value of card_values){
                        let card_info = {
                            "suit" : suit,
                            "value": value,
                            "img" : null
                        };
                        deck_array.push(card_info);
                    }
                }

                return deck_array;
                
            }

            //work in progress
            function getCardImg(suit, rank){}


            function MyApp() {

                // initial card and deck hooks
                const [deck, set_deck] = React.useState(generateDeck());
                const [hand, set_hand] = React.useState([]);
                const [selected_card, set_selected_card] = React.useState(false);


                const select_card = (card) => {
                    set_selected_card(selected_card === card ? null : card);  
                };

                const reset = () => {
                    set_deck(generateDeck());
                    set_hand([]);
                    set_selected_card(null);
                }

                const toss = () => {
                    if(selected_card !== null){
                        set_hand(hand.filter( (_,card) => card !== selected_card) );
                        set_selected_card(null);
                    }
                }

                const wildcard = () => {
                    let rand_suit = Math.floor(Math.random() * card_suits.length);
                    let rand_val = Math.floor(Math.random() * card_values.length);
                    const card = {
                        "suit": card_suits[rand_suit],
                        "value" : card_values[rand_val],
                        "img" : getCardImg(rand_suit, rand_val)
                    }
          
                    set_hand([...hand, card]);
                }

                const shuffle = () => {
                    const hand_copy = [...hand];


                    for(let i = 0; i < hand_copy.length; i++){
                        let x = Math.floor(Math.random() * hand_copy.length);
                        let y = Math.floor(Math.random() * hand_copy.length);

                        let temp = hand_copy[x];
                        hand_copy[x] = hand_copy[y];
                        hand_copy[y] = temp;
                    }

                    set_hand(hand_copy);
                    set_selected_card(null);
                }

                const display = () => {
                    
                }











                return (
                    <div className="container-fluid text-center">
                        
                        <div id="title">
                            <div className="titleName">Ebby's Gambling Corner</div>
                        </div>

                        <div id="card_container" className="d-flex align-items-center">
                            Bullshit    
                        </div>
                    </div>
                );

            }

        </script>


    </body>
</html>